subcode: open_r(file)
    $local file_in: textfile
    {$I-}                  
    assign(file_in, $(file))
    reset(file_in)
    {$I+}                  
    $if IoResult=0
        $while not eof(file_in)
            $local string s_line
            readln(file_in, s_line)
            BLOCK
        close(file_in)

subcode: open_w(file)
    $local file_out: textfile
    {$I-}                  
    $(if:file~>>)
        assign(file_out, $(file:2:))
        append(file_out)
    $(else)
        assign(file_out, $(file))
        rewrite(file_out)
    {$I+}                  
    $if IoResult=0
        BLOCK
        close(file_out)
