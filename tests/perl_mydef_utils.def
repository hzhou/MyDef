page: test
    type: pl
    subcode: main
	# $call test_proper_split
	$call test_benchmark

subcode: test_proper_split
    use MyDef::utils
    my $param="a, b, (c1, c2, c3[1, 2, 3], c4), \"any, thing '(' goes,\", , skiped 1"
    #my $param="  {{1, 2, 3}, {3, 4, 5}, {4, 5, 6}} "
    
    my @t=MyDef::utils::proper_split($param)
    $foreach $t in @t
	print "  [$t]\n"

subcode: test_benchmark
    use Benchmark
    use MyDef::utils
    # my $param="char *, struct nonsense *, int, unsigned int"
    my $param="a, b, (c1, c2, c3[1, 2, 3], c4), \"any, thing '(' goes,\", , skiped 1"

    timethis(1000000, 'my @t=split /,\s*/, $param;')
    #- 0.13 sec
    timethis(1000000, 'my @t=MyDef::utils::proper_split($param);')
    #- 0.55 sec
