page: test, basic_frame
    subcode: global
	$struct(record) n_id=1, char * name
	/***********************************/
	$list test, do_something
    fncode: main
	$local strecord[10]
	$local pstrecord
	test()
	$call msg, comment, "Testing subcode with variable tailing parameters. Pi=%.4f\n", 3.1415926

fncode: test
    #DEBUG
    pn_test=do_something()
    $for i=0:10
	printf("%d: %d\n", i, pn_test[i])

fncode: do_something
    $allocate(10) pn_test
    $local s_buffer[100]
    $for i=0:10 
	$my j
	j=i+1
	pn_test[i]=i*j

    $if 0
	$my j
	# empty case
    $elsif 1
	printf("empty if case test ok\n")
    $else
	# trailing empty case
    return pn_test

subcode: msg(dummy, @msg)
    /* $(dummy) */
    fprintf(stderr, $(msg))

