#---------------------------------------- 
#-- level 2 facility, called within perlcode

subcode: replace_output(name)
    my $tempout=$MyDef::compileutil::out
    $MyDef::compileutil::out=$(name)
    $out=$(name)
    BLOCK
    $MyDef::compileutil::out=$tempout
    $out=$tempout

subcode: push_open_function
    push @$out, "OPEN_FUNC_$fidx"
    push @$out, "SOURCE_INDENT"
    BLOCK
    push @$out, "SOURCE_DEDENT"

subcode: push_indent_block
    $(allow_recurse:10)
    push @$out, "INDENT"
    BLOCK
    push @$out, "DEDENT"

#---- &call perlcode [optional approach]
subcode: grab_codelist
    my $codelist = $MyDef::compileutil::named_blocks{"last_grab"}
    $if !defined $codelist
        BLOCK
    # $else
        # $print codelist: [$codelist]
