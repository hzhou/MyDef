perlcode: markdown
    my $codelist=MyDef::compileutil::get_named_block("last_grab")
    my $prog="markdown_translate.pl"
    use IPC::Open2
    local(*In, *Out)
    my $pid=open2(*Out, *In, $prog) or die "Can't open $prog\n"
    my $space=""
    $foreach $t in @$codelist
        $if $t=~/^SOURCE_INDENT/
            $space.="    "
        $elif $t=~/^SOURCE_DEDENT/
            $space=~s/    $//
        $else
            print In "$space$t\n"
    close In
    $while <Out>
        push @$out, $_
    close Out
    waitpid($pid, 0)
